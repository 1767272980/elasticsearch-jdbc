{
  "input" : {
    "jdbc": {
      "my50products" : {
        "url": "jdbc:derby:memory:myDB",
        "user": "",
        "password": "",
        "timestamp" : true,
        "sql": "select * from \"products\"",
        "maxrows": 50,
        "output" : "elasticsearch"
      }
    }
  },
  "output" : {
    "elasticsearch": {
      "maxbulkactions" : 1000,
      "maxconcurrentbulkrequests" : 4,
      "index" : {
        "default" : {
          "name" : "my_index",
          "type" : "my_type",
          "settings" : {
            "index": {
              "number_of_shards": 2
            }
          },
          "mapping" : {
            "my_type" : {
              "properties" : {
                "timestamp": {
                  "type": "date",
                  "store" : true
                }
              }
            }
          },
          "replica" : 1,
          "retention" : {
            "enabled" : true,
            "mintokeep" : 2
          }
        }
      }
    }
  }
}
